[gd_scene load_steps=24 format=3 uid="uid://dfx4lp3vs1ref"]

[ext_resource type="Script" path="res://scripts/classes/tool.gd" id="1_ccfdh"]
[ext_resource type="ArrayMesh" uid="uid://cuq3s6r2vjg73" path="res://assets/models/tools/spoon.res" id="2_bh27f"]
[ext_resource type="ArrayMesh" uid="uid://c344sialo5inh" path="res://assets/models/tools/cauldron.res" id="3_qfcpr"]
[ext_resource type="Script" path="res://scripts/classes/interaction_component.gd" id="5_6l6km"]
[ext_resource type="AudioStream" uid="uid://dyco67xmd824" path="res://assets/sounds/sfx/Bubbles Short A.wav" id="6_gvs0u"]
[ext_resource type="PackedScene" uid="uid://oy23q6xh7wmx" path="res://scenes/interactable/fireplace.tscn" id="7_a73js"]
[ext_resource type="AudioStream" uid="uid://bymjk5f48qfhn" path="res://assets/sounds/sfx/Brewing 2.wav" id="7_ylrkn"]

[sub_resource type="Gradient" id="Gradient_ysfbc"]
colors = PackedColorArray(0.383216, 0.195311, 0.0616978, 1, 0.982045, 0.898739, 0.850716, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_02yhb"]
noise_type = 2
seed = 180
frequency = 0.0163
fractal_type = 3
fractal_lacunarity = 1.95
fractal_gain = 0.785
cellular_jitter = -1.67

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_wa2ct"]
seamless = true
seamless_blend_skirt = 0.825
color_ramp = SubResource("Gradient_ysfbc")
noise = SubResource("FastNoiseLite_02yhb")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_d3xkk"]
blend_mode = 3
shading_mode = 0
albedo_texture = SubResource("NoiseTexture2D_wa2ct")
albedo_texture_force_srgb = true
uv1_scale = Vector3(0.85, 0.85, 0.85)
uv1_triplanar_sharpness = 0.535887

[sub_resource type="CylinderMesh" id="CylinderMesh_3rqef"]
material = SubResource("StandardMaterial3D_d3xkk")

[sub_resource type="Gradient" id="Gradient_153bb"]
offsets = PackedFloat32Array(0.0330578, 0.280992, 0.61157)
colors = PackedColorArray(0.81994, 0.343134, 0, 1, 0.447075, 0.175987, 0.0223667, 1, 0.942656, 0.537075, 0.313595, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_rk0de"]
noise_type = 3
frequency = 0.0673
fractal_octaves = 1
domain_warp_enabled = true
domain_warp_type = 2

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_jjqdt"]
seamless = true
seamless_blend_skirt = 0.588
color_ramp = SubResource("Gradient_153bb")
noise = SubResource("FastNoiseLite_rk0de")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2sepv"]
albedo_color = Color(0.731021, 0.489331, 0, 1)
albedo_texture = SubResource("NoiseTexture2D_jjqdt")
emission_enabled = true
emission = Color(0.632256, 0.132328, 4.81308e-08, 1)
emission_energy_multiplier = 4.84
uv1_offset = Vector3(0.38, 0.455, -0.165)
uv1_triplanar = true

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_tj8u2"]
points = PackedVector3Array(0.0262737, 0.350885, 0.00186903, 0.0844886, -0.0028373, -0.0319855, 0.0314172, 0.120073, 0.108599, -0.0176032, 0.224147, -0.10575, -0.0856806, -0.0028373, -0.0546911, 0.124221, 0.201431, -0.00927985, -0.0119341, -0.0028373, 0.0928158, -0.06298, 0.224147, 0.0871451, -0.0913497, 0.314905, -0.00927985, 0.042121, 0.120017, -0.104937, 0.0561189, 0.224147, 0.0928158, 0.0958511, 0.309253, -0.00927985, 0.0902939, 0.114595, 0.0660239, -0.0960162, 0.120452, 0.060161, -0.0641284, 0.120526, -0.0934732, 0.061788, 0.224147, -0.088761, 0.0844886, -0.0028373, -0.0546911, -0.0232722, 0.360337, -0.00927985, -0.0232722, 0.224147, 0.104157, -0.0856806, 0.224147, -0.0660325, 0.0107421, -0.0028373, 0.0984865, -0.125413, 0.201431, 0.00768674, -0.0485557, 0.125443, 0.103139, -0.0113734, 0.114039, -0.111384, 0.0447808, 0.354649, -0.00927985, 0.0948901, 0.120411, -0.0617977, 0.124221, 0.201431, 0.00768674, -0.101748, 0.125505, -0.051375, -0.0856806, -0.0028373, -0.0376562, -0.057311, 0.348961, -0.00927985, 0.0164111, 0.224147, -0.10575, 0.0901576, 0.224147, 0.0587687)

[sub_resource type="Animation" id="Animation_2a0h3"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Pot/MixPivot/MeshInstance3D:mesh:material:uv1_offset")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Pot/SpoonPivot:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0.037844, 0.222742, -0.000659954)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Pot/SpoonPivot:quaternion")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Quaternion(-0.0204097, 0.706812, -0.0204097, 0.706812)]
}

[sub_resource type="Animation" id="Animation_pdm6r"]
resource_name = "brewing"
length = 10.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Pot/MixPivot/MeshInstance3D:mesh:material:uv1_offset")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 10),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(1, 0, 1)]
}

[sub_resource type="Animation" id="Animation_rnayt"]
resource_name = "mixing"
length = 3.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Pot/SpoonPivot:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.3, 0.6, 0.9, 1.2, 1.46667, 1.7, 2, 2.3, 2.6, 2.86667),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector3(0.037844, 0.222742, -0.000659954), Vector3(0.037844, 0.222742, -0.000659954), Vector3(0.037844, 0.222742, -0.000659954), Vector3(0.037844, 0.222742, -0.000659954), Vector3(0.037844, 0.222742, -0.000659954), Vector3(0.037844, 0.222742, -0.000659954), Vector3(0.037844, 0.222742, -0.000659954), Vector3(0.037844, 0.222742, -0.000659954), Vector3(0.037844, 0.222742, -0.000659954), Vector3(0.037844, 0.222742, -0.000659954), Vector3(0.037844, 0.222742, -0.000659954)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Pot/SpoonPivot:quaternion")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.3, 0.6, 0.9, 1.2, 1.46667, 1.7, 2, 2.3, 2.6, 2.86667),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Quaternion(-0.0204097, 0.706812, -0.0204097, 0.706812), Quaternion(0.165233, 0.687531, 0.165233, 0.68753), Quaternion(0.237761, 0.971302, -0.00526982, -0.00391204), Quaternion(-0.192744, -0.77691, 0.145755, 0.581392), Quaternion(-0.00584035, -0.00624286, 0.237767, 0.971285), Quaternion(-0.0204097, 0.706812, -0.0204097, 0.706812), Quaternion(0.165233, 0.687531, 0.165233, 0.68753), Quaternion(0.237761, 0.971302, -0.00526982, -0.00391204), Quaternion(-0.192744, -0.77691, 0.145755, 0.581392), Quaternion(-0.00584035, -0.00624286, 0.237767, 0.971285), Quaternion(-0.0204097, 0.706812, -0.0204097, 0.706812)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_xb6qh"]
_data = {
"RESET": SubResource("Animation_2a0h3"),
"brewing": SubResource("Animation_pdm6r"),
"mix": SubResource("Animation_rnayt")
}

[sub_resource type="SphereShape3D" id="SphereShape3D_gck2i"]
radius = 0.141866

[sub_resource type="SpriteFrames" id="SpriteFrames_skq6l"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": null
}, {
"duration": 1.0,
"texture": null
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[node name="Cauldron" type="StaticBody3D" node_paths=PackedStringArray("ingredient_preview")]
script = ExtResource("1_ccfdh")
ingredient_preview = NodePath("Pot/IngredientSpot")
wait_time = 10
tool_type = 3

[node name="Pot" type="MeshInstance3D" parent="."]
transform = Transform3D(-6.75678e-08, -0.0129654, -1.5476, 3.33772e-09, 1.5476, -0.0129654, 1.54765, -3.90365e-09, -6.75374e-08, 0, 0, 0)
mesh = ExtResource("3_qfcpr")
skeleton = NodePath("")
metadata/ant_landscape = "{  }"

[node name="IngredientSpot" type="Node3D" parent="Pot"]
transform = Transform3D(-4.37841e-08, -4.20264e-12, 1, -0.0577034, 0.998334, -2.5223e-09, -0.998334, -0.0577034, -4.37114e-08, 0.037844, 0.222742, -0.000659954)

[node name="SpoonPivot" type="Node3D" parent="Pot"]
transform = Transform3D(-3.14114e-08, -4.90803e-10, 0.263498, -0.0152047, 0.263059, 0, -0.263059, -0.0152047, -3.14114e-08, 0.037844, 0.222742, -0.000659954)
rotation_edit_mode = 1

[node name="Spoon" type="MeshInstance3D" parent="Pot/SpoonPivot"]
transform = Transform3D(0.44161, -0.664642, 0.297763, -0.00266597, 0.401637, 0.588153, -0.999428, -0.294752, 0.130002, 0.118648, 0.0117036, -0.0680336)
mesh = ExtResource("2_bh27f")
skeleton = NodePath("../../..")

[node name="MixPivot" type="Node3D" parent="Pot"]
transform = Transform3D(0.420611, 1.11022e-16, 0, 2.22045e-16, 0.420611, -2.32831e-10, -1.77636e-15, 2.32831e-10, 0.420611, 0, 0.109249, 1.86265e-09)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Pot/MixPivot"]
transform = Transform3D(0.440862, -4.73997e-18, 1.07818e-14, 4.44089e-16, 0.00470553, 2.75839e-09, -1.06581e-14, -2.91038e-11, 0.445979, 2.6077e-08, 0.215169, -0.00180263)
mesh = SubResource("CylinderMesh_3rqef")

[node name="Contents" type="CSGCylinder3D" parent="Pot"]
transform = Transform3D(0.434763, -2.22045e-16, 0, 3.33067e-16, 0.434763, 6.98492e-10, 0, -6.98492e-10, 0.434763, -1.3332e-17, 0.150444, -0.000834113)
radius = 0.220883
height = 0.160229
material = SubResource("StandardMaterial3D_2sepv")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(-6.75678e-08, -0.0129654, -1.5476, 3.33772e-09, 1.5476, -0.0129654, 1.54765, -3.90365e-09, -6.75374e-08, 0, 0, 0)
shape = SubResource("ConvexPolygonShape3D_tj8u2")

[node name="WaitLabel" type="Label3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00470427, 0.567404, -0.0211237)
visible = false
billboard = 2
text = "10"

[node name="Timer" type="Timer" parent="."]
unique_name_in_owner = true

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.228779, 0)
stream = ExtResource("6_gvs0u")
bus = &"SFX"

[node name="InteractionComponent" type="Node" parent="."]
script = ExtResource("5_6l6km")

[node name="AudioStreamPlayer3D3" type="AudioStreamPlayer3D" parent="."]
process_mode = 3
transform = Transform3D(-0.996676, 0.0814476, -0.00193918, 0.081029, 0.993467, 0.0803626, 0.00847185, 0.0799383, -0.996764, -0.0552411, 0.717774, -0.814715)
stream = ExtResource("7_ylrkn")
volume_db = -23.231
unit_size = 15.87
max_db = 5.456
pitch_scale = 0.8
autoplay = true
max_distance = 6.0
bus = &"SFX"
emission_angle_enabled = true
emission_angle_degrees = 66.3
emission_angle_filter_attenuation_db = -60.6

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_xb6qh")
}

[node name="Target" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0762468, -0.386595)

[node name="Area3D" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.327431, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.059441, 0)
shape = SubResource("SphereShape3D_gck2i")

[node name="Fireplace" parent="." instance=ExtResource("7_a73js")]
transform = Transform3D(-4.74848e-08, 0, -1.08633, 0, 1.08633, 0, 1.08633, 0, -4.74848e-08, 0.0153286, -0.193531, 0)

[node name="AnimatedSprite3D" type="AnimatedSprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.420549, 0)
sprite_frames = SubResource("SpriteFrames_skq6l")

[connection signal="body_entered" from="Area3D" to="." method="_on_area_3d_body_entered"]
